System.register(["./index-legacy.js"],(function(e,t){"use strict";var a,i,r,d,n,o,s,l,m,c,g,p,u,f,b;return{setters:[e=>{a=e._,i=e.i,r=e.n,d=e.r,n=e.o,o=e.c,s=e.w,l=e.a,m=e.b,c=e.d,g=e.e,p=e.t,u=e.f,f=e.p,b=e.g}],execute:function(){var t=document.createElement("style");t.textContent='ons-page[data-v-d01e87ed]{text-align:center;justify-content:center}.button[data-v-d01e87ed]{margin:4% 0;width:90%;white-space:normal;overflow-wrap:break-word}.button--red[data-v-d01e87ed]{margin:4% 0;width:90%;background-color:red}.button--w50[data-v-d01e87ed]{margin:4% 0;width:50%}.button--w80[data-v-d01e87ed]{margin:4% 0;width:80%}.button--postcode-conversion[data-v-d01e87ed]{margin:0 0 0 5%;padding:0;width:50%;text-align:center}.button-transition[data-v-d01e87ed]{margin:4% 0;width:90%;white-space:normal;overflow-wrap:break-word;border-radius:.5rem}.button-transition .label-wrapper[data-v-d01e87ed]{display:flex;margin:.2rem .1rem;flex-direction:row;align-items:baseline}.button-transition .label-wrapper .title[data-v-d01e87ed]{margin-left:.5rem;text-align:center;flex-grow:1}.button-transition .label-wrapper .arrow[data-v-d01e87ed]{position:relative;display:inline-block;padding:10px 20px}.button-transition .label-wrapper .arrow[data-v-d01e87ed]:before{content:"";width:.6rem;height:.6rem;border-top:solid 2px #ffffff;border-right:solid 2px #ffffff;position:absolute;left:.6rem;top:.5rem}.button-transition .label-wrapper .arrow.arrow-right[data-v-d01e87ed]:before{transform:rotate(45deg)}.button-transition .description[data-v-d01e87ed]{margin:.8rem .5rem;text-align:left;font-size:.9rem;line-height:1rem}#content__footer[data-v-d01e87ed]{margin-bottom:2rem}.fontsize-09[data-v-d01e87ed]{font-size:.9rem}.fontsize-10[data-v-d01e87ed]{font-size:1rem}.note[data-v-d01e87ed]{margin:2% 3%;text-align:left;font-size:.9rem}.note--center[data-v-d01e87ed]{margin:2% 3%;text-align:center;font-size:.9rem}.note--small[data-v-d01e87ed]{margin:2% 3%;text-align:left;font-size:.6rem}.red[data-v-d01e87ed]{color:red}.bold[data-v-d01e87ed]{font-weight:700}.text-center[data-v-d01e87ed]{text-align:center}.right[data-v-d01e87ed]{text-align:right}.sender-bg-color[data-v-d01e87ed]{background-color:#fffde7;border:1px solid transparent}.signup-group-box[data-v-d01e87ed]{position:relative;margin:2rem auto 1rem;padding:0 0 1rem;width:85%;border:1px solid gray;border-radius:10px;text-align:center}.signup-navigation-text[data-v-d01e87ed]{position:relative;top:-12px;background:#efeff4;padding:0 5px}.blue[data-v-d01e87ed]{color:#00f}.datetime-label[data-v-d01e87ed]{margin:0 1rem 0 .5rem;font-size:1rem}.input-area[data-v-d01e87ed]{margin:5% auto;display:grid;grid-template-columns:100%}.inputs-side-by-side-wrapper[data-v-d01e87ed]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:flex-end}.list-header[data-v-d01e87ed]{padding:0 .25rem;font-size:1rem}.list-item-container[data-v-d01e87ed]{margin:0;padding:0;width:100%;display:grid;grid-template-columns:45% 1fr}.list-item-note[data-v-d01e87ed]{margin:0 0 2% 2%;font-size:.8rem}.list-item-note--caution[data-v-d01e87ed]{margin:0 0 2% 2%;display:block;font-size:.8rem;color:red}.list-item-title[data-v-d01e87ed]{margin:0;padding:0;width:100%;font-size:.85rem;font-weight:700;grid-row:1 / 2;grid-column:1 / 1}.list-item-title-note[data-v-d01e87ed]{margin:2% 0 0 2%;width:100%;font-size:.75rem}.list-item-value[data-v-d01e87ed]{margin:2% 5% 0 2%;padding:0;width:100%;font-size:.9rem;grid-row:2 / 2;grid-column:1 / 1}.list-item-value--row-1-col-2[data-v-d01e87ed]{padding:0 0 0 2%;font-size:.8rem;text-align:left;word-break:break-all;overflow-wrap:break-word;grid-row:1 / 1;grid-column:2 / 2}.radio-circle[data-v-d01e87ed]{position:relative;width:1rem;height:1rem;border-radius:50%;border:2px solid #007aff;background-color:#fff;cursor:pointer}.radio-container[data-v-d01e87ed]{display:flex;justify-content:space-around;gap:1rem;margin-top:.5rem}.radio-label[data-v-d01e87ed]{display:flex;align-items:center;font-size:1rem;gap:.5rem;padding:10px;border-radius:8px;cursor:pointer;user-select:none}.radio-label input[type=radio][data-v-d01e87ed]{display:none}.radio-label input[type=radio]:checked+.radio-circle[data-v-d01e87ed]{background-color:#007aff;border:2px solid #007aff}.radio-label input[type=radio]:checked+.radio-circle[data-v-d01e87ed]:before{content:"";position:absolute;top:50%;left:50%;width:.6rem;height:.6rem;background-color:#fff;border-radius:50%;transform:translate(-50%,-50%)}.radio-label-text[data-v-d01e87ed]{margin:0 0 0 1rem}.red-bold[data-v-d01e87ed]{color:red;font-weight:700}.selectbox[data-v-d01e87ed]{outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:.4rem 0 .2rem;padding:.2rem .4rem;background-color:transparent;border:none;border-radius:0;border-bottom:1px solid gray;font-size:1.1rem;line-height:1.1rem;width:4rem;text-align-last:center;color:#474747}.selectbox[data-v-d01e87ed]:focus{border-bottom:2px solid blue}.textbox[data-v-d01e87ed]{width:100%}.textbox--20[data-v-d01e87ed]{width:20%}.textbox--30[data-v-d01e87ed]{width:30%}.textbox--40[data-v-d01e87ed]{width:40%}.textbox--75[data-v-d01e87ed]{width:75%}.textbox.time[data-v-d01e87ed]{margin:.2rem;background-color:transparent;border:none;border-radius:0;border-bottom:1px solid gray;font-size:1.2rem;line-height:1.2rem;width:2rem;text-align-last:center}.validation-message[data-v-d01e87ed]{margin:.5rem auto .25rem .5rem;color:red;font-size:.8rem}\n',document.head.appendChild(t);const v={components:{inputForm:i,navigationToolbar:r},computed:{counts:function(){return this.$store.getters["diver/counts"]},inputForms:function(){return this.$store.getters["diver/inputForms"]}},created:function(){const e=this.$store.getters["env/data"];this.inputForms.forEach((t=>{t.inputItems.forEach((t=>{switch(t.key){case"email":case"email_confirmation":t.value=e.email}}))}))},data:()=>({inputData:null,token:null,topMessage:null}),methods:{confirm:function(){let e=null;!e&&this.counts?.max<=this.counts?.current&&(e="1日の検索回数が上限に達しました"),e||this.inputData||(e="入力エラーがあります<br>確認してください"),e?this.$ons.notification.confirm({title:"確認",message:e,buttonLabels:["はい"]}):this.submit()},onGetData:function(e){this.inputData=e?.inputData},submit:async function(){this.$emit("show-loading-navigation");try{const e=await this.$store.dispatch("diver/index",this.inputData);if(e.success){const e=this.$store.getters["diver/divers"];Array.isArray(e)&&e.length>0&&e[0]?.id&&this.token?(this.$emitter.emit(`diver:selected:${this.token}`,e[0]),this.$emit("pop-page-navigation")):this.$ons.notification.alert({title:"エラー",message:"該当するダイバーIDが存在しません"})}else this.$ons.notification.alert({title:"エラー",message:e.message})}catch(e){this.$logger.error(`[${this.$options.name}/submit] ${e}`),this.$ons.notification.alert({title:"エラー",message:e.message})}finally{this.$emit("hide-loading-navigation")}}},mounted:function(){const e=this.$emitter&&this.$emitter._pendingTokens?this.$emitter._pendingTokens:[];if(e.length>0&&(this.token=e.pop()),this.$emitter){const e=this.$emitter._lastNavigationSource;e&&("MyPage"===e&&(this.topMessage="アプリユーザー情報を表示しています。"),delete this.$emitter._lastNavigationSource)}},name:"DiverSearchPage"},h={id:"content__header"},w=(e=>(f("data-v-d01e87ed"),e=e(),b(),e))((()=>c("p",{class:"note--center"},"アプリと連携するダイバーIDを検索します。",-1))),x={key:0,class:"note--center"},k={id:"content__body"},y={class:"input-area"},$={id:"content__footer"},z={class:"note--center"};e("default",a(v,[["render",function(e,t,a,i,r,f){const b=d("navigation-toolbar"),v=d("input-form"),_=d("v-ons-button"),D=d("v-ons-page");return n(),o(D,null,{default:s((()=>[l(b,{"back-label":"戻る"},{default:s((()=>[m("ダイバーID検索")])),_:1}),c("div",h,[w,r.topMessage?(n(),g("p",x,p(r.topMessage),1)):u("v-if",!0)]),c("div",k,[c("div",y,[l(v,{inputForms:f.inputForms,onGetData:f.onGetData},null,8,["inputForms","onGetData"])])]),c("div",$,[c("p",z," 本日はあと"+p(this.counts.max-this.counts.current)+"回検索可能です。 ",1),l(_,{onClick:f.confirm,class:"button"},{default:s((()=>[m("ダイバーIDを検索する")])),_:1},8,["onClick"])])])),_:1})}],["__scopeId","data-v-d01e87ed"],["__file","/Users/koichifukuda/Documents/bsac/bsac-member-ccard-vue3/src/components/DiverSearchPage.vue"]]))}}}));
